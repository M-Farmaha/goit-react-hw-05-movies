{"version":3,"file":"static/js/765.8a14c159.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","fetchRequest.js","pages/MovieDetails.jsx"],"sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = 'ef24936cd708c9aa0029dc0cfa81df25';\n\nexport const trendingMoviesRequest = async () => {\n  const url = `${BASE_URL}trending/movie/day?api_key=${KEY}`;\n  const response = await fetch(url);\n\n  if (response.ok) {\n    const data = await response.json();\n    return data;\n  } else {\n    const errorData = await response.json();\n    throw new Error(errorData);\n  }\n};\n\nexport const searchMoviesRequest = async query => {\n  const url = `${BASE_URL}/search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${query}&page=1`;\n  const response = await fetch(url);\n\n  if (response.ok) {\n    const data = await response.json();\n    return data;\n  } else {\n    const errorData = await response.json();\n    throw new Error(errorData);\n  }\n};\n\nexport const movieDetailRequest = async movieId => {\n  const url = `${BASE_URL}/movie/${movieId}?api_key=${KEY}&language=en-US`;\n  const response = await fetch(url);\n\n  if (response.ok) {\n    const data = await response.json();\n    return data;\n  } else {\n    const errorData = await response.json();\n    throw new Error(errorData);\n  }\n};\n\nexport const castRequest = async movieId => {\n  const url = `${BASE_URL}/movie/${movieId}/credits?api_key=${KEY}&language=en-US`;\n  const response = await fetch(url);\n\n  if (response.ok) {\n    const data = await response.json();\n    return data;\n  } else {\n    const errorData = await response.json();\n    throw new Error(errorData);\n  }\n};\n\nexport const reviewsRequest = async movieId => {\n  const url = `${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}&language=en-US`;\n  const response = await fetch(url);\n\n  if (response.ok) {\n    const data = await response.json();\n    return data;\n  } else {\n    const errorData = await response.json();\n    throw new Error(errorData);\n  }\n};\n","import { useState, useEffect, useRef, Suspense } from 'react';\nimport { movieDetailRequest } from 'fetchRequest';\nimport { Outlet, useLocation, useNavigate, useParams } from 'react-router-dom';\nimport {\n  ImageWrap,\n  ImagePoster,\n  Button,\n  MovieWrap,\n  AddWrap,\n  AddSection,\n} from 'components/styled-components';\nimport NoPoSterW500 from '../images/no-poster-w500.jpg';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state ?? '/');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    movieDetailRequest(movieId)\n      .then(response => {\n        setMovie(response);\n      })\n      .catch(err => setError(err));\n  }, [movieId]);\n\n  const handleClick = () => {\n    navigate(backLinkLocationRef.current);\n  };\n\n  return (\n    <>\n      {movie && (\n        <div>\n          <MovieWrap>\n            <Button type=\"button\" onClick={handleClick}>\n              Go back\n            </Button>\n            <ImageWrap>\n              <ImagePoster\n                src={\n                  movie.poster_path\n                    ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                    : NoPoSterW500\n                }\n                alt={movie.title}\n              />\n            </ImageWrap>\n            <h2>{movie.title}</h2>\n            <p>User score: {Math.round(movie.vote_average * 10)}%</p>\n            <h3>Overview</h3>\n            <p>{movie.overview}</p>\n            <h3>Genres</h3>\n            <p>{movie.genres.map(el => el.name).join(', ')}</p>\n          </MovieWrap>\n          <AddSection>\n            <h3>Additional information</h3>\n            <AddWrap>\n              <li>\n                <Button type=\"button\" onClick={() => navigate('cast')}>\n                  Cast\n                </Button>\n              </li>\n              <li>\n                <Button type=\"button\" onClick={() => navigate('reviews')}>\n                  Reviews\n                </Button>\n              </li>\n            </AddWrap>\n          </AddSection>\n          <Suspense fallback={<div>Loading...</div>}>\n            <Outlet />\n          </Suspense>\n        </div>\n      )}\n      {error && <h2>Movie doesn't exist</h2>}\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","BASE_URL","KEY","trendingMoviesRequest","url","fetch","response","ok","json","data","errorData","Error","searchMoviesRequest","query","movieDetailRequest","movieId","castRequest","reviewsRequest","useParams","useState","movie","setMovie","setError","location","useLocation","backLinkLocationRef","useRef","state","navigate","useNavigate","useEffect","catch","type","onClick","current","src","poster_path","NoPoSterW500","alt","title","Math","round","vote_average","overview","genres","map","el","name","join","Suspense","fallback"],"sourceRoot":""}